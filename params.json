{"name":"Django-roughage","body":"### Install\r\nFirst install roughage:  `pip install django-roughage`\r\n\r\nAssume that your app/models.py looks like this\r\n```python\r\nclass Book(models.Model):\r\n\r\n    title = models.CharField(max_length=255)\r\n\r\nclass BookReport(models.Model):\r\n\r\n    book = models.ForeignKey(Book)\r\n    grade = models.IntegerField()\r\n```\r\n\r\n### Defining seeds.py\r\nThen you define a seeds.py like the following:\r\n```python\r\nfrom roughage import Seed\r\nfrom app.models import Book, BookReport\r\n\r\nclass BookSeed(Seed):\r\n\r\n    model = Book\r\n\r\n    def querysets(self):\r\n        return [\r\n            Book.objects.filter(id__lt=3)\r\n        ]\r\n\r\nclass BookReportSeed(Seed):\r\n\r\n    model = BookReport\r\n\r\n    def trim_app__book(self, queryset):\r\n        return queryset[:2]\r\n\r\n```\r\n\r\n### Planting and Reaping\r\nThen run\r\n```\r\n$ ./manage.py plant --seeds=seeds.py --file=dev_dump.json\r\n```\r\n\r\ndev_dump.json will contain all books with id < 3 and the first two book reports attached to those books.\r\n\r\nYou can now import this into another database with\r\n```\r\n$ ./manage.py reap dev_dump.json\r\n```","tagline":"A logically-consistent database sampler based on poop jokes","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}